<div id="EventDetail" ng-controller="app.views.events.detail as vm">

    <h2>{{vm.event.title}} <span class="event-date"><i class="fa fa-calendar-times-o"></i> {{vm.event.date | momentFormat:'DD.MM.YYYY'}}</span></h2>

    <div class="event-actions">
        <a class="btn btn-sm btn-primary" ng-if="!vm.isRegistered()" ng-click="vm.register()">Register</a>
        <a class="btn btn-sm btn-warning" ng-if="vm.isRegistered()" ng-click="vm.cancelRegistertration()">Cancel registration</a>
        <a class="btn btn-sm btn-danger" ng-if="vm.isEventCreator()" ng-click="vm.cancelEvent()">Cancel the event</a>
    </div>

    <p>{{vm.event.description}}</p>

    <hr/>

    <div>
        <h5>{{vm.event.registrationsCount}} registered users (of {{vm.event.maxRegistrationCount}} available registrations)</h5>
        <div class="registrar" ng-repeat="registration in vm.event.registrations">
            <div class="registrar-thumbnail">{{vm.getUserThumbnail(registration)}}</div>
            <div class="registrar-body">
                <span class="registrar-name">{{registration.userName}} {{registration.userSurname}}</span>
                <span class="registrar-time">{{registration.creationTime | fromNow}}</span>
            </div>
        </div>
    </div>

</div>